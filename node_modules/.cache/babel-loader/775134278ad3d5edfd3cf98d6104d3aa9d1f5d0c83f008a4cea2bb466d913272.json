{"ast":null,"code":"// add, remove cell\n(function (window, factory) {\n  // universal module definition\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define(['./flickity', 'fizzy-ui-utils/utils'], function (Flickity, utils) {\n      return factory(window, Flickity, utils);\n    });\n  } else if (typeof module == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(window, require('./flickity'), require('fizzy-ui-utils'));\n  } else {\n    // browser global\n    factory(window, window.Flickity, window.fizzyUIUtils);\n  }\n})(window, function factory(window, Flickity, utils) {\n  'use strict';\n\n  // append cells to a document fragment\n  function getCellsFragment(cells) {\n    var fragment = document.createDocumentFragment();\n    cells.forEach(function (cell) {\n      fragment.appendChild(cell.element);\n    });\n    return fragment;\n  }\n\n  // -------------------------- add/remove cell prototype -------------------------- //\n\n  var proto = Flickity.prototype;\n\n  /**\n   * Insert, prepend, or append cells\n   * @param {[Element, Array, NodeList]} elems - Elements to insert\n   * @param {Integer} index - Zero-based number to insert\n   */\n  proto.insert = function (elems, index) {\n    var cells = this._makeCells(elems);\n    if (!cells || !cells.length) {\n      return;\n    }\n    var len = this.cells.length;\n    // default to append\n    index = index === undefined ? len : index;\n    // add cells with document fragment\n    var fragment = getCellsFragment(cells);\n    // append to slider\n    var isAppend = index == len;\n    if (isAppend) {\n      this.slider.appendChild(fragment);\n    } else {\n      var insertCellElement = this.cells[index].element;\n      this.slider.insertBefore(fragment, insertCellElement);\n    }\n    // add to this.cells\n    if (index === 0) {\n      // prepend, add to start\n      this.cells = cells.concat(this.cells);\n    } else if (isAppend) {\n      // append, add to end\n      this.cells = this.cells.concat(cells);\n    } else {\n      // insert in this.cells\n      var endCells = this.cells.splice(index, len - index);\n      this.cells = this.cells.concat(cells).concat(endCells);\n    }\n    this._sizeCells(cells);\n    this.cellChange(index, true);\n  };\n  proto.append = function (elems) {\n    this.insert(elems, this.cells.length);\n  };\n  proto.prepend = function (elems) {\n    this.insert(elems, 0);\n  };\n\n  /**\n   * Remove cells\n   * @param {[Element, Array, NodeList]} elems - ELements to remove\n   */\n  proto.remove = function (elems) {\n    var cells = this.getCells(elems);\n    if (!cells || !cells.length) {\n      return;\n    }\n    var minCellIndex = this.cells.length - 1;\n    // remove cells from collection & DOM\n    cells.forEach(function (cell) {\n      cell.remove();\n      var index = this.cells.indexOf(cell);\n      minCellIndex = Math.min(index, minCellIndex);\n      utils.removeFrom(this.cells, cell);\n    }, this);\n    this.cellChange(minCellIndex, true);\n  };\n\n  /**\n   * logic to be run after a cell's size changes\n   * @param {Element} elem - cell's element\n   */\n  proto.cellSizeChange = function (elem) {\n    var cell = this.getCell(elem);\n    if (!cell) {\n      return;\n    }\n    cell.getSize();\n    var index = this.cells.indexOf(cell);\n    this.cellChange(index);\n  };\n\n  /**\n   * logic any time a cell is changed: added, removed, or size changed\n   * @param {Integer} changedCellIndex - index of the changed cell, optional\n   * @param {Boolean} isPositioningSlider - Positions slider after selection\n   */\n  proto.cellChange = function (changedCellIndex, isPositioningSlider) {\n    var prevSelectedElem = this.selectedElement;\n    this._positionCells(changedCellIndex);\n    this._getWrapShiftCells();\n    this.setGallerySize();\n    // update selectedIndex\n    // try to maintain position & select previous selected element\n    var cell = this.getCell(prevSelectedElem);\n    if (cell) {\n      this.selectedIndex = this.getCellSlideIndex(cell);\n    }\n    this.selectedIndex = Math.min(this.slides.length - 1, this.selectedIndex);\n    this.emitEvent('cellChange', [changedCellIndex]);\n    // position slider\n    this.select(this.selectedIndex);\n    // do not position slider after lazy load\n    if (isPositioningSlider) {\n      this.positionSliderAtSelected();\n    }\n  };\n\n  // -----  ----- //\n\n  return Flickity;\n});","map":{"version":3,"names":["window","factory","define","amd","Flickity","utils","module","exports","require","fizzyUIUtils","getCellsFragment","cells","fragment","document","createDocumentFragment","forEach","cell","appendChild","element","proto","prototype","insert","elems","index","_makeCells","length","len","undefined","isAppend","slider","insertCellElement","insertBefore","concat","endCells","splice","_sizeCells","cellChange","append","prepend","remove","getCells","minCellIndex","indexOf","Math","min","removeFrom","cellSizeChange","elem","getCell","getSize","changedCellIndex","isPositioningSlider","prevSelectedElem","selectedElement","_positionCells","_getWrapShiftCells","setGallerySize","selectedIndex","getCellSlideIndex","slides","emitEvent","select","positionSliderAtSelected"],"sources":["/Users/natti/code/natti05/mangata_gallo/node_modules/flickity/js/add-remove-cell.js"],"sourcesContent":["// add, remove cell\n( function( window, factory ) {\n  // universal module definition\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      './flickity',\n      'fizzy-ui-utils/utils',\n    ], function( Flickity, utils ) {\n      return factory( window, Flickity, utils );\n    } );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n        window,\n        require('./flickity'),\n        require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    factory(\n        window,\n        window.Flickity,\n        window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( window, Flickity, utils ) {\n\n'use strict';\n\n// append cells to a document fragment\nfunction getCellsFragment( cells ) {\n  var fragment = document.createDocumentFragment();\n  cells.forEach( function( cell ) {\n    fragment.appendChild( cell.element );\n  } );\n  return fragment;\n}\n\n// -------------------------- add/remove cell prototype -------------------------- //\n\nvar proto = Flickity.prototype;\n\n/**\n * Insert, prepend, or append cells\n * @param {[Element, Array, NodeList]} elems - Elements to insert\n * @param {Integer} index - Zero-based number to insert\n */\nproto.insert = function( elems, index ) {\n  var cells = this._makeCells( elems );\n  if ( !cells || !cells.length ) {\n    return;\n  }\n  var len = this.cells.length;\n  // default to append\n  index = index === undefined ? len : index;\n  // add cells with document fragment\n  var fragment = getCellsFragment( cells );\n  // append to slider\n  var isAppend = index == len;\n  if ( isAppend ) {\n    this.slider.appendChild( fragment );\n  } else {\n    var insertCellElement = this.cells[ index ].element;\n    this.slider.insertBefore( fragment, insertCellElement );\n  }\n  // add to this.cells\n  if ( index === 0 ) {\n    // prepend, add to start\n    this.cells = cells.concat( this.cells );\n  } else if ( isAppend ) {\n    // append, add to end\n    this.cells = this.cells.concat( cells );\n  } else {\n    // insert in this.cells\n    var endCells = this.cells.splice( index, len - index );\n    this.cells = this.cells.concat( cells ).concat( endCells );\n  }\n\n  this._sizeCells( cells );\n  this.cellChange( index, true );\n};\n\nproto.append = function( elems ) {\n  this.insert( elems, this.cells.length );\n};\n\nproto.prepend = function( elems ) {\n  this.insert( elems, 0 );\n};\n\n/**\n * Remove cells\n * @param {[Element, Array, NodeList]} elems - ELements to remove\n */\nproto.remove = function( elems ) {\n  var cells = this.getCells( elems );\n  if ( !cells || !cells.length ) {\n    return;\n  }\n\n  var minCellIndex = this.cells.length - 1;\n  // remove cells from collection & DOM\n  cells.forEach( function( cell ) {\n    cell.remove();\n    var index = this.cells.indexOf( cell );\n    minCellIndex = Math.min( index, minCellIndex );\n    utils.removeFrom( this.cells, cell );\n  }, this );\n\n  this.cellChange( minCellIndex, true );\n};\n\n/**\n * logic to be run after a cell's size changes\n * @param {Element} elem - cell's element\n */\nproto.cellSizeChange = function( elem ) {\n  var cell = this.getCell( elem );\n  if ( !cell ) {\n    return;\n  }\n  cell.getSize();\n\n  var index = this.cells.indexOf( cell );\n  this.cellChange( index );\n};\n\n/**\n * logic any time a cell is changed: added, removed, or size changed\n * @param {Integer} changedCellIndex - index of the changed cell, optional\n * @param {Boolean} isPositioningSlider - Positions slider after selection\n */\nproto.cellChange = function( changedCellIndex, isPositioningSlider ) {\n  var prevSelectedElem = this.selectedElement;\n  this._positionCells( changedCellIndex );\n  this._getWrapShiftCells();\n  this.setGallerySize();\n  // update selectedIndex\n  // try to maintain position & select previous selected element\n  var cell = this.getCell( prevSelectedElem );\n  if ( cell ) {\n    this.selectedIndex = this.getCellSlideIndex( cell );\n  }\n  this.selectedIndex = Math.min( this.slides.length - 1, this.selectedIndex );\n\n  this.emitEvent( 'cellChange', [ changedCellIndex ] );\n  // position slider\n  this.select( this.selectedIndex );\n  // do not position slider after lazy load\n  if ( isPositioningSlider ) {\n    this.positionSliderAtSelected();\n  }\n};\n\n// -----  ----- //\n\nreturn Flickity;\n\n} ) );\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}